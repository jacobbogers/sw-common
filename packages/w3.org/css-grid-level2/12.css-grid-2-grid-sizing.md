# How to read chaper 12

In order:

- Read § 12.2. Terminology
- Read § 12.3. Track Sizing Algorithm (this is summary of steps).
- Read § 12.4. Initialize Track Sizes
- Read § 12.5. Resolve Intrinsic Track Sizes
- Read § 12.6. Maximize Tracks
- Read § 12.7. Expand Flexible Tracks
- Read § 12.8. Stretch auto Tracks

As last step return here to:

- Read § 12.1 Grid Sizing Algorithm

## 12 Grid Sizing

This section defines the grid sizing algorithm
    - determines the size of all grid tracks. 
    - determines the size of the entire grid.

Each track has:
- Specified minimum and maximum sizing functions (which may be the same).
- Each sizing function is:
  - A fixed sizing function (`<length>` or resolvable `<percentage>`).
  - An intrinsic sizing function:
    - `min-content`
    - `max-content`
    - `auto`
    - `fit-content()`

**Outcome**: The grid sizing algorithm defines how to resolve these sizing constraints into used track sizes.

### 12.1. Grid Sizing Algorithm

Note:_Placement of _grid items_ occurs before sizing_

1. First, the track sizing algorithm is used to resolve the sizes of the _grid columns_. Apply optionally `align-content`
2. Next, the track sizing algorithm resolves the sizes of _grid rows_.  Apply optionally `justify-content`
3. Next, If the `min-content` contribution of any grid item has changed based on the row sizes and alignment calculated in step 2, re-resolve the sizes of the grid columns with the new min-content and max-content contributions (once only).
4. TODO
5. TODO

### 12.2. Track Sizing Terminology

This Terminology applies to both Horizontal or Vertical tracks independently.

- **`min track sizing function`** 
  - IF the track was sized with a `minmax()` function, it is the FIRST argument of the function
  - ELSE IF the track was sized with `flex` THEN it is `auto`
  - ELSE IF the track was sized with `fit-content()` THEN it is `auto`
  - ELSE it is `<the track sizing function>`

- **`max track sizing function`** 
  - IF the track was sized with a `minmax()` function, it is the SECOND argument of the function
  - ELSE it is `<the track sizing function>`
  - NOTE:
    - IF `<the track sizing function>` = `auto` THEN it is `max-content`
    - IF `<the track sizing function>` = `fit-content()` THEN it is `max-content`
  
Question:
  What does [this](https://www.w3.org/TR/css-grid-2/#max-track-sizing-function) mean[(bold part):
  
> _In all cases, treat auto and fit-content() as max-content, **except where specified otherwise for fit-content()**._

- **`available grid space`**
  - Independently in each dimension
    - IF the _grid container_ size is _definite_ THEN 
      - use the size of its content box
    - ELSE IF the _grid_container_ is being sized under `<min-content contraint>` OR `<max-content constraint>` THEN
      - _available grid space_ is that constraint and definite 
    - END
  - NOTE:
    - In all c
  - ELSE it is `<the track sizing function>`
  - NOTE:
    - In All cases clamp the _available grid space_ according to the grid container’s `min-width`/`max-width`/`height` properties, if they are definite.

- **`Free space`**
  - Equal to _available grid space_ MINUS the _base size(s)_ MINUS _gutters_
    - Floored at 0
    - IF _available grid space_ is indefinite  then _free space_ is indefinite as well

- **`Span Count`**
  - Equal to _available grid space_ MINUS the _base size(s)_ MINUS _gutters_
    - Floored at 0
    - IF _available grid space_ is indefinite  then _free space_ is indefinite as well

### 12.3 Track Sizing Algorithm

- _Used track size_ is calculated from the _min track sizing function_ and the _max track sizing function_.
- Each track has a _base size_ (a length), the algorithm will grow this length through various stages until:
  - it reaches the tracks final size
  - it has a growth limit (aka the maximum size the track can ever be)

There are 5 steps:

- 1. §12.4 Initialize Track size
- 2. §12.5 Resolve intrinsic track sizes
- 3. §12.6 Maximize Tracks
- 4. §12.7 Expand Flexible tracks
- 5. §12.8 Expand Stretched auto Tracks

### 12.4 Initialize Track sizes

Initialize _base size_ and _growth limit_:

For each track, if the track’s _min track sizing function_ is:
  - **A fixed sizing function**
    - Resolve to an absolute length (definite) and use that size as the track’s initial _base size_.
  - **An intrinsic sizing function** (`min-content`, `max-content`, `auto`, `fit-content()`)
    - Use base size 0

For each track, if the track’s _max track sizing function_ is:
  - **A fixed sizing function**
    - Resolve to an absolute length and use that size as the track’s initial growth limit.
  - **A intrinsic sizing function** OR **A flexible `fr` sizing function** 
    - Use an initial growth limit of infinity

Note: IF _growth limit_ is less then _base size_ make _growth limit_ equal to the base size

## 12.5 Resolve intrinsic track sizes











